<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="API documentation for the Rust `v1` mod in crate `wasm_chain_integration`."><meta name="keywords" content="rust, rustlang, rust-lang, v1"><title>wasm_chain_integration::v1 - Rust</title><link rel="stylesheet" type="text/css" href="../../normalize.css"><link rel="stylesheet" type="text/css" href="../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../light.css"  id="themeStyle"><link rel="stylesheet" type="text/css" href="../../dark.css" disabled ><link rel="stylesheet" type="text/css" href="../../ayu.css" disabled ><script id="default-settings" ></script><script src="../../storage.js"></script><script src="../../crates.js"></script><noscript><link rel="stylesheet" href="../../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../../favicon.svg"><style type="text/css">#crate-search{background-image:url("../../down-arrow.svg");}</style></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu" role="button">&#9776;</div><a href='../../wasm_chain_integration/index.html'><div class='logo-container rust-logo'><img src='../../rust-logo.png' alt='logo'></div></a><h2 class="location">Module v1</h2><div class="sidebar-elems"><div class="block items"><ul><li><a href="#modules">Modules</a></li><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#constants">Constants</a></li><li><a href="#traits">Traits</a></li><li><a href="#functions">Functions</a></li><li><a href="#types">Type Definitions</a></li></ul></div><div id="sidebar-vars" data-name="v1" data-ty="mod" data-relpath="./"></div><script defer src="./sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu" title="themes"><img width="18" height="18" alt="Pick another theme!" src="../../brush.svg"></button><div id="theme-choices" role="menu"></div></div><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><button type="button" id="help-button" title="help">?</button><a id="settings-menu" href="../../settings.html" title="settings"><img width="18" height="18" alt="Change settings" src="../../wheel.svg"></a></div></form></nav><section id="main" class="content"><h1 class="fqn"><span class="in-band">Module <a href="../index.html">wasm_chain_integration</a>::<wbr><a class="mod" href="#">v1</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span><span class="out-of-band"><span id="render-detail"><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span><a class="srclink" href="../../src/wasm_chain_integration/v1/mod.rs.html#1-1585" title="goto source code">[src]</a></span></h1><h2 id="modules" class="section-header"><a href="#modules">Modules</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="mod" href="trie/index.html" title="wasm_chain_integration::v1::trie mod">trie</a></div><div class="item-right docblock-short"><p>Implementation of the contract state trie that is exposed as a key-value
store to smart contracts.</p>
</div></div></div><h2 id="structs" class="section-header"><a href="#structs">Structs</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.ConcordiumAllowedImports.html" title="wasm_chain_integration::v1::ConcordiumAllowedImports struct">ConcordiumAllowedImports</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.InitHost.html" title="wasm_chain_integration::v1::InitHost struct">InitHost</a></div><div class="item-right docblock-short"><p>A host implementation that provides access to host information needed for
execution of contract initialization functions. The “host” in this context
refers to the Wasm concept of a host.
This keeps track of the current state and logs, gives access to the context,
and makes sure that execution stays within resource bounds dictated by
allocated energy.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.InstanceState.html" title="wasm_chain_integration::v1::InstanceState struct">InstanceState</a></div><div class="item-right docblock-short"><p>The runtime representation of the contract state. This collects all the
pieces of data needed to efficiently use the state.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.InstanceStateEntry.html" title="wasm_chain_integration::v1::InstanceStateEntry struct">InstanceStateEntry</a></div><div class="item-right docblock-short"><p>first bit is ignored, the next 31 indicate a generation,
the final 32 indicates an index in the entry_mapping.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.ProcessedImports.html" title="wasm_chain_integration::v1::ProcessedImports struct">ProcessedImports</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.ReceiveContext.html" title="wasm_chain_integration::v1::ReceiveContext struct">ReceiveContext</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.ReceiveHost.html" title="wasm_chain_integration::v1::ReceiveHost struct">ReceiveHost</a></div><div class="item-right docblock-short"><p>A host implementation that provides access to host information needed for
execution of contract receive methods. The “host” in this context
refers to the Wasm concept of a host.
This keeps track of the current state and logs, gives access to the context,
and makes sure that execution stays within resource bounds dictated by
allocated energy.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.SavedHost.html" title="wasm_chain_integration::v1::SavedHost struct">SavedHost</a></div><div class="item-right docblock-short"><p>Host that is saved between handling of operations. This contains sufficient
information to resume execution once control returns to the contract.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.StateLessReceiveHost.html" title="wasm_chain_integration::v1::StateLessReceiveHost struct">StateLessReceiveHost</a></div><div class="item-right docblock-short"><p>Part of the receive host that is stored to handle the interrupt.
This part is not changed during the handling of the interrupt, however
before execution resumes, after returning from handling of the interrupt,
the logs and parameters are set appropriately.</p>
</div></div></div><h2 id="enums" class="section-header"><a href="#enums">Enums</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.CommonFunc.html" title="wasm_chain_integration::v1::CommonFunc enum">CommonFunc</a></div><div class="item-right docblock-short"><p>An enumeration of functions that can be used both by init and receive
methods.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.ImportFunc.html" title="wasm_chain_integration::v1::ImportFunc enum">ImportFunc</a></div><div class="item-right docblock-short"><p>Enumeration of allowed imports.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.InitOnlyFunc.html" title="wasm_chain_integration::v1::InitOnlyFunc enum">InitOnlyFunc</a></div><div class="item-right docblock-short"><p>An enumeration of functions that can be used only by init methods.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.InitResult.html" title="wasm_chain_integration::v1::InitResult enum">InitResult</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.Interrupt.html" title="wasm_chain_integration::v1::Interrupt enum">Interrupt</a></div><div class="item-right docblock-short"><p>Interrupt triggered by the smart contract to execute an instruction on the
host, either an account transfer or a smart contract call.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.InvokeFailure.html" title="wasm_chain_integration::v1::InvokeFailure enum">InvokeFailure</a></div><div class="item-right docblock-short"><p>The kind of errors that may occur during handling of contract invoke.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.InvokeResponse.html" title="wasm_chain_integration::v1::InvokeResponse enum">InvokeResponse</a></div><div class="item-right docblock-short"><p>Response from an invoke call.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.ReceiveOnlyFunc.html" title="wasm_chain_integration::v1::ReceiveOnlyFunc enum">ReceiveOnlyFunc</a></div><div class="item-right docblock-short"><p>An enumeration of functions that can be used only by receive methods.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.ReceiveResult.html" title="wasm_chain_integration::v1::ReceiveResult enum">ReceiveResult</a></div><div class="item-right docblock-short"><p>Result of execution of a receive function.</p>
</div></div></div><h2 id="constants" class="section-header"><a href="#constants">Constants</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="constant" href="constant.MAX_EXPORT_NAME_LEN.html" title="wasm_chain_integration::v1::MAX_EXPORT_NAME_LEN constant">MAX_EXPORT_NAME_LEN</a></div><div class="item-right docblock-short"><p>Maximum length, in bytes, of an export function name.</p>
</div></div></div><h2 id="traits" class="section-header"><a href="#traits">Traits</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.HasReceiveContext.html" title="wasm_chain_integration::v1::HasReceiveContext trait">HasReceiveContext</a></div><div class="item-right docblock-short"><p>A receive context for V1 contracts.</p>
</div></div></div><h2 id="functions" class="section-header"><a href="#functions">Functions</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.invoke_init.html" title="wasm_chain_integration::v1::invoke_init fn">invoke_init</a></div><div class="item-right docblock-short"><p>Invokes an init-function from a given artifact</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.invoke_init_from_artifact.html" title="wasm_chain_integration::v1::invoke_init_from_artifact fn">invoke_init_from_artifact</a></div><div class="item-right docblock-short"><p>Invokes an init-function from a given artifact <em>bytes</em></p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.invoke_init_from_source.html" title="wasm_chain_integration::v1::invoke_init_from_source fn">invoke_init_from_source</a></div><div class="item-right docblock-short"><p>Invokes an init-function from Wasm module bytes</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.invoke_init_with_metering_from_source.html" title="wasm_chain_integration::v1::invoke_init_with_metering_from_source fn">invoke_init_with_metering_from_source</a></div><div class="item-right docblock-short"><p>Same as <code>invoke_init_from_source</code>, except that the module has cost
accounting instructions inserted before the init function is called.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.invoke_receive.html" title="wasm_chain_integration::v1::invoke_receive fn">invoke_receive</a></div><div class="item-right docblock-short"><p>Invokes an receive-function from a given artifact</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.invoke_receive_from_artifact.html" title="wasm_chain_integration::v1::invoke_receive_from_artifact fn">invoke_receive_from_artifact</a></div><div class="item-right docblock-short"><p>Invokes an receive-function from a given artifact <em>bytes</em></p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.invoke_receive_from_source.html" title="wasm_chain_integration::v1::invoke_receive_from_source fn">invoke_receive_from_source</a></div><div class="item-right docblock-short"><p>Invokes an receive-function from Wasm module bytes</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.invoke_receive_with_metering_from_source.html" title="wasm_chain_integration::v1::invoke_receive_with_metering_from_source fn">invoke_receive_with_metering_from_source</a></div><div class="item-right docblock-short"><p>Invokes an receive-function from Wasm module bytes, injects the module with
metering.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.resume_receive.html" title="wasm_chain_integration::v1::resume_receive fn">resume_receive</a></div><div class="item-right docblock-short"><p>Resume execution of the receive method after handling the interrupt.
The arguments</p>
</div></div></div><h2 id="types" class="section-header"><a href="#types">Type Definitions</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="type" href="type.InstanceCounter.html" title="wasm_chain_integration::v1::InstanceCounter type">InstanceCounter</a></div><div class="item-right docblock-short"><p>A counter of the “state instance”. When contract execution is interrupted
and then resumed, if the state has been modified by the handling of the
operation then all state entries that were handed out before the interrupt
are invalidated. This is achieved by incrementing the instance counter.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="type" href="type.ParameterRef.html" title="wasm_chain_integration::v1::ParameterRef type">ParameterRef</a></div><div class="item-right docblock-short"><p>Parameter whose ownership is tracked statically.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="type" href="type.ParameterVec.html" title="wasm_chain_integration::v1::ParameterVec type">ParameterVec</a></div><div class="item-right docblock-short"><p>Parameter whose ownership is tracked dynamically.
This is needed, for example, when execution passes through Haskell and Rust.
Ideally this would be Arc&lt;<a href="https://doc.rust-lang.org/1.57.0/std/primitive.u8.html" title="u8">u8</a>&gt; but then this cannot be passed via the FFI
boundary directly since <a href="https://doc.rust-lang.org/1.57.0/std/primitive.u8.html" title="u8">u8</a> is not Sized. To avoid a third type we settle
on Vec<u8>.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="type" href="type.ReceiveInterruptedState.html" title="wasm_chain_integration::v1::ReceiveInterruptedState type">ReceiveInterruptedState</a></div><div class="item-right docblock-short"><p>State of the suspended execution of the receive function.
This retains both the module that is executed, as well the host.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="type" href="type.ReturnValue.html" title="wasm_chain_integration::v1::ReturnValue type">ReturnValue</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="type" href="type.StateResult.html" title="wasm_chain_integration::v1::StateResult type">StateResult</a></div><div class="item-right docblock-short"></div></div></div></section><section id="search" class="content hidden"></section><div id="rustdoc-vars" data-root-path="../../" data-current-crate="wasm_chain_integration" data-search-index-js="../../search-index.js" data-search-js="../../search.js"></div>
    <script src="../../main.js"></script>
</body></html>